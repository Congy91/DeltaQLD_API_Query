{% extends "base.html" %}
{% block title %}Login{% endblock %}

{% block content %}
<div class="max-w-md mx-auto delta-card">
    <h2 class="text-xl font-semibold mb-4">EnteliWeb Login</h2>
    <form id="loginForm" method="POST">
        <label class="block mb-2">URL</label>
        <input type="text" name="base_url" class="w-full px-3 py-2 border rounded mb-3"
            placeholder="http://<siteName>/enteliweb" required>
        <label class="block mb-2">Username</label>
        <input type="text" name="username" class="w-full px-3 py-2 border rounded mb-3" required>
        <label class="block mb-2">Password</label>
        <input type="password" name="password" class="w-full px-3 py-2 border rounded mb-3" required>
        <button type="submit" class="px-3 py-1 delta-btn rounded text-white w-full">Login</button>
    </form>

    <!-- Spinner -->
    <div id="loadingSpinner" class="flex justify-center items-center my-4 hidden">
        <div class="w-12 h-12 border-4 border-t-red-500 border-gray-200 rounded-full animate-spin"></div>
        <span class="ml-2 text-gray-700">Authenticating...</span>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("loginForm");
    const spinner = document.getElementById("loadingSpinner");

    form.addEventListener("submit", () => {
        spinner.classList.remove("hidden");
    });
});
</script>
{% endblock %}
